<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    

    <script>
/* ja promise  is like an Api run by javascript, it represent a value that will be return. it returns 3 values fulfilled, rejected and pending
           
           fulfilled: successful 
           rejected: failed
           pending: still running
           */

          // .catch: shows error and .then: shows successful.

           //consume promise
           const myPromise = new Promise((resolve,reject)=>{
             let success = true;

             if(success){
                resolve("The promise is fulfilled, task successful");
                }else{
                    reject("The promise is rejected, task failed");
                }

           });


           // how to consume promise using .then and .catch
           myPromise.then(result=>{
            console.log(result)
              })
              
              .catch(error=>{
                console.log(error);
           })

           .finally(()=>{
            console.log("Done");
           });


           //Create a promise to check for even odd/number

           let checkEven = new Promise((resolve,reject)=>{
            let number = 4;
            if(number % 2 === 0){
                resolve("The number is even");
            }
            else{
                reject("The number is odd");
            }
           });

           checkEven.then(result=>{
            console.log(result); //successful
           })
           .catch(error=>{
            console.error(error);
           });


           // chaining of promises
         function step1(){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    console.log("step1 completed");
                    resolve();
                },1000)
            });
         }
         function step2(){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    console.log("step2 completed");
                    resolve();
                },1000)
         });
         }
            function step3(){
                return new Promise((resolve,reject)=>{
                    setTimeout(()=>{
                        console.log("step3 completed");
                        resolve();
                    },1000)
            });
            }

            step1()
            .then(step2())
            .then(step3())
            .then(()=>{
                console.log("All steps completed")
            });

            /* use it to display steps involved in manipulating a dom element using javascript. e.g div element*/

              function firstStep(){
                return new Promise((resolve,reject)=>{
                    setTimeout(()=>{
                        console.log("creating the first div element");
                        resolve();
                    },1000)
                });
              }
              function secondStep(){
                return new Promise((resolve,reject)=>{
                    setTimeout(()=>{
                        console.log("Adding some text to the second div element");
                        resolve();
                    },1000)
                });
              }
              function thirdStep(){
                return new Promise((resolve,reject)=>{
                    setTimeout(()=>{
                        console.log("Changing the background color of the third div element");
                        resolve();
                    },1000)
                });
              }

                firstStep()
                .then(secondStep())
                .then(thirdStep())
                .then(()=>{
                    console.log("All steps completed");
                });






        </script>
    
</body>
</html>